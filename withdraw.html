<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Withdrawal History - PAPER HOUSE INC.</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h1>ğŸ’¸ WITHDRAWAL HISTORY ğŸ’¸</h1>
<div id="withdrawals"></div>
<button onclick="window.location.href='index.html'">â¬…ï¸ Back to Dashboard</button>

<script>
let allRequests = JSON.parse(localStorage.getItem('allWithdrawRequests')) || [];

function displayWithdrawals(){
    let div = document.getElementById('withdrawals');
    let approved = allRequests.filter(r=>r.status==="Approved").slice(-10).reverse();
    if(approved.length===0){
        div.innerHTML = "No approved withdrawals yet.";
        return;
    }

    div.innerHTML = "";
    approved.forEach((w,i)=>{
        let p = document.createElement('p');
        p.innerText = `${w.username} - â‚±${w.amount.toFixed(3)}`;
        div.appendChild(p);

        // Fade out after 5s
        setTimeout(()=>{ 
            p.style.transition = "opacity 2s";
            p.style.opacity = 0;
            setTimeout(()=>div.removeChild(p),2000);
        },5000 + i*1000);
    });
}

displayWithdrawals();
</script>

</body>
</html>
